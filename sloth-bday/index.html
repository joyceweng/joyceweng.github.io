<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>樹懶生日驚喜 🎉</title>
  <meta name="description" content="倒數 3、2、1 → 樹懶吹蠟燭 + 播放 Soda Pop + 禮物盒驚喜 + 彩帶！" />

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="樹懶 生日快樂！" />
  <meta property="og:description" content="倒數 3, 2, 1 → 樹懶吹蠟燭＋Soda Pop＋禮物驚喜＋彩帶！" />
  <meta property="og:image" content="https://joyceweng.github.io/sloth-bday/assets/slothpng" />
  <meta property="og:url" content="https://joyceweng.github.io/sloth-bday/" />
  <meta name="twitter:card" content="summary_large_image" />

  <link rel="icon" href="assets/og-sloth-bday.png" />
  <link rel="preload" as="audio" href="assets/soda-pop.mp3">
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Start overlay -->
  <div id="startOverlay" class="overlay">
    <div class="overlay-card glass">
      <h1> 🎂樹懶23生日🎂 </h1>
      <p>點一下開始，倒數 <b>3、2、1</b> 後會播放 🎵</p>
      <button id="startBtn" class="btn">點我開始</button>
      <p class="tip">（iPhone 請關掉靜音鍵）</p>
    </div>
    <!-- Countdown -->
    <div id="countdown" class="countdown"></div>
  </div>

  <!-- Background music -->
  <audio id="bg-music" src="assets/soda-pop.mp3" loop></audio>

  <!-- Background decoration -->
  <div class="bubbles" aria-hidden="true"></div>

  <main class="container">
    <header class="hero glass no-select">
      <h1 class="title">Happy Birthday 生日快樂 樹懶懶！🦥🎉</h1>
      <p class="subtitle typewriter" id="typewriter"></p>

      <!-- Sloth + Cake (SVG) -->
      <div class="stage">
        <svg id="slothSVG" viewBox="0 0 420 280" class="sloth-svg" role="img" aria-label="樹懶吹蠟燭">
          <defs>
            <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="6" stdDeviation="6" flood-opacity="0.25"/>
            </filter>
            <radialGradient id="faceGlow" cx="35%" cy="30%">
              <stop offset="0" stop-color="#ffffff" stop-opacity="1"/>
              <stop offset="1" stop-color="#fafefe" stop-opacity="1"/>
            </radialGradient>
            <linearGradient id="flameGrad" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%"  stop-color="#fff0a6"/>
              <stop offset="100%" stop-color="#ffb34d"/>
            </linearGradient>
          </defs>

          <!-- Head + ears -->
          <g filter="url(#shadow)">
            <ellipse cx="135" cy="82" rx="22" ry="18" fill="#f3fbfb" stroke="#2b3c44" stroke-width="4"/>
            <ellipse cx="285" cy="82" rx="22" ry="18" fill="#f3fbfb" stroke="#2b3c44" stroke-width="4"/>
            <ellipse cx="210" cy="130" rx="105" ry="95" fill="url(#faceGlow)" stroke="#2b3c44" stroke-width="5"/>
            <!-- mask -->
            <ellipse cx="165" cy="125" rx="55" ry="36" fill="#7f8a92"/>
            <ellipse cx="255" cy="125" rx="55" ry="36" fill="#7f8a92"/>
            <!-- eyes (blink) -->
            <circle id="eyeL" cx="165" cy="125" r="8" fill="#24313f"/>
            <circle id="eyeR" cx="255" cy="125" r="8" fill="#24313f"/>
            <!-- nose + smile -->
            <ellipse cx="210" cy="140" rx="9" ry="7" fill="#24313f"/>
            <path id="smile" d="M180,158 Q210,172 240,158" fill="none" stroke="#24313f" stroke-width="6" stroke-linecap="round"/>
            <!-- cheeks -->
            <circle id="cheekL" cx="145" cy="152" r="13" fill="#ffc1c7" opacity="0.92"/>
            <circle id="cheekR" cx="275" cy="152" r="13" fill="#ffc1c7" opacity="0.92"/>
          </g>

          <!-- breath puffs -->
          <g id="puff" opacity="0">
            <circle cx="318" cy="132" r="10" fill="#e2fbfb"/>
            <circle cx="338" cy="132" r="6"  fill="#f0fefe"/>
          </g>

          <!-- Cute cake (CENTERED) -->
          <!-- Group is 200px wide rect starting at x=30 => center = 30 + 100 = 130
               SVG center x = 210 => translateX should be 210 - 130 = 80 -->
          <g id="cake" transform="translate(80,205)">
            <ellipse cx="130" cy="38" rx="110" ry="10" fill="#e6f7f6"/>
            <rect x="30" y="-12" width="200" height="50" rx="14" fill="#ffe7ef" stroke="#e7c6d0"/>
            <path d="M30,-2 h200 v14
                     c-8,8 -16,4 -24,0
                     c-8,-4 -16,8 -24,0
                     c-8,-8 -16,6 -24,0
                     c-8,-6 -16,10 -24,0
                     c-8,-10 -16,6 -24,0
                     c-8,-6 -16,10 -24,0
                     c-8,-10 -16,8 -24,0 Z"
                  fill="#fff6fb" stroke="#e7c6d0" />
            <rect x="50" y="-32" width="160" height="28" rx="10" fill="#fff4f9" stroke="#e7c6d0"/>
            <g id="candle" transform="translate(130,-34)">
              <rect x="-7" y="-22" width="14" height="22" rx="3" fill="#81D8D0" />
              <rect x="-1.2" y="-22" width="2.4" height="7" fill="#333"/>
              <g id="flame">
                <path d="M0,-42 C8,-34 6,-22 0,-18 C-6,-22 -8,-34 0,-42Z" fill="url(#flameGrad)"/>
                <circle cx="0" cy="-26" r="4.2" fill="#fff6d5"/>
              </g>
            </g>
          </g>
        </svg>
      </div>

      <p class="hint">🎁 點擊禮物盒打開驚喜！</p>

      <!-- Gift (SVG, width fixed at 160px) -->
      <!-- Gift (SVG, width fixed at 160px, perfectly centered cross) -->
<svg id="gift" class="gift-svg" viewBox="0 0 200 180" role="img" aria-label="驚喜禮物" tabindex="0" aria-expanded="false">
    <!-- box body -->
    <rect x="20" y="60" width="160" height="100" rx="16" fill="#d6ffff" stroke="#bfeeee" stroke-width="2"/>
    <!-- horizontal ribbon (centered at y=110 => 110-8 = 102) -->
    <rect x="20" y="102" width="160" height="16" rx="8" fill="#5bb9b2"/>
    <!-- vertical ribbon (centered at x=100 => 100-8 = 92) -->
    <rect x="92" y="60" width="16" height="100" rx="8" fill="#5bb9b2"/>
    <!-- lid (flips open) -->
    <g id="lid" transform="translate(20,40)">
      <rect x="0" y="0" width="160" height="34" rx="12" fill="#eaffff" stroke="#cfeeee" stroke-width="2"/>
      <!-- symmetric bow around center x=80 -->
      <circle cx="64" cy="17" r="12" fill="#81D8D0"/>
      <circle cx="96" cy="17" r="12" fill="#81D8D0"/>
      <rect x="74" y="12" width="12" height="10" rx="3" fill="#5bb9b2"/>
    </g>
    <!-- shine -->
    <g id="shine" opacity="0">
      <circle cx="100" cy="60" r="70" fill="white" opacity=".15"/>
    </g>
  </svg>
  
    </header>

    <!-- Popup -->
    <section id="popup" class="popup" role="dialog" aria-modal="true">
      <div class="popup-content glass">
        <button id="close" class="close" aria-label="close">&times;</button>
        <h2>🎉 樹懶，你最棒！🎉</h2>
        <p>你這個臭樹懶 生日快樂！</p>
        <p>提醒你：</p>
        <ul class="traits">
          <li>粗中有細</li>
          <li>健談</li>
          <li>溫文有禮</li>
          <li>成熟穩重</li>
          <li>心思縝密</li>
          <li>和藹可親</li>
        </ul>
        <div class="cta">
          <button class="btn secondary" id="moreNice">再來一句</button>
          <button class="btn" id="confettiBtn">撒彩帶！</button>
          <a class="btn" id="downloadCard" download="sloth-card.png">下載小卡</a>
        </div>
      </div>
    </section>
  </main>

  <script src="script.js" defer></script>
</body>
</html>
